/************************************************************************
 * 'login.js'
 *
 * This file is GENERATED by the AssetAggregator; do not edit it.
 * Last modified: 2016-07-14 01:06:05 +0000
 * Generated at: 2016-07-14 16:15:13 +0000
 ************************************************************************/


/************************************************************************
 * :asset_packager_compatibility, 'config/asset_packages.yml' (last modified: 2016-07-14 01:06:05 +0000)
 ************************************************************************/





/************************************************************************
 * :asset_packager_compatibility, 'config/asset_packages.yml' (last modified: 2016-07-14 01:06:05 +0000)
 ************************************************************************/





/************************************************************************
 * :files, 'public/javascripts/shared', ... (last modified: (none))
 ************************************************************************/





/************************************************************************
 * :files, 'app/views', ... (last modified: (none))
 ************************************************************************/





/************************************************************************
 * :files, 'app/views', ... (last modified: (none))
 ************************************************************************/





/************************************************************************
 * :class_inlines, 'app/views', ... (last modified: 2016-01-15 19:39:42 +0000)
 ************************************************************************/

/* ----------------------------------------------------------------------
   - app/views/login/_archive_login_lightbox.coffee (last modified: 2016-01-15 19:39:42 +0000)
   ---------------------------------------------------------------------- */
(function() {
  Scribd.ArchiveLoginLightbox = (function() {
    function ArchiveLoginLightbox(container) {
      this.set_page();
      this.container = $(container);
      this.container.on("click", "a.skip_login", (function(_this) {
        return function() {
          return _this.container.track({
            action: "click",
            label: _this.page + ":login_lightbox:skip_login"
          });
        };
      })(this));
    }

    ArchiveLoginLightbox.prototype.set_page = function() {
      var ref;
      this.page = window.location.pathname.split("/")[1];
      this.page || (this.page = "home");
      if (((ref = Scribd.current_doc) != null ? ref.signup_context : void 0) != null) {
        return this.page = this.page + "_" + Scribd.current_doc.signup_context;
      }
    };

    return ArchiveLoginLightbox;

  })();

}).call(this);


/* ----------------------------------------------------------------------
   - app/views/login/checkout_flow_login.coffee (last modified: 2016-01-15 19:39:42 +0000)
   ---------------------------------------------------------------------- */
(function() {
  Scribd.CheckoutFlowLogin = (function() {
    function CheckoutFlowLogin(container, next_url) {
      this.container = $(container);
      this.next_url = next_url;
      this.page_name = "checkout_flow_login";
      this.forgot_pw_lb = null;
      this.container.track({
        action: "view",
        label: this.page_name
      });
      this.container.dispatch("click", {
        default_input: (function(_this) {
          return function(btn, e) {
            var input;
            input = $(e.target);
            input.removeClass('greyed');
            if (input.attr('value') === input.attr('default')) {
              return input.attr('value', '');
            }
          };
        })(this),
        forgot_password: (function(_this) {
          return function(btn, e) {
            _this.forgot_pw_lb = Scribd.Lightbox.open("forgot_password_lb", Scribd.ForgotPasswordLightbox, _this);
            return false;
          };
        })(this)
      });
      this.initialize_input_labels();
      this.container.on("Scribd:Facebook:login_success", (function(_this) {
        return function(e, res) {
          return window.location.href = _this.next_url;
        };
      })(this));
    }

    CheckoutFlowLogin.prototype.initialize_input_labels = function() {
      var i, input, len, ref, results;
      ref = $(".default_input");
      results = [];
      for (i = 0, len = ref.length; i < len; i++) {
        input = ref[i];
        input = $(input);
        if (input.attr('value') === "") {
          input.attr('value', input.attr('default'));
          results.push(input.addClass('greyed'));
        } else {
          results.push(void 0);
        }
      }
      return results;
    };

    CheckoutFlowLogin.prototype.show = function() {
      if (this.forgot_pw_lb) {
        return this.forgot_pw_lb.close();
      }
    };

    return CheckoutFlowLogin;

  })();

}).call(this);


/* ----------------------------------------------------------------------
   - app/views/login/login.coffee (last modified: 2015-11-10 00:53:08 +0000)
   ---------------------------------------------------------------------- */
(function() {
  var extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
    hasProp = {}.hasOwnProperty;

  Scribd.Login = (function(superClass) {
    var BACKGROUND;

    extend(Login, superClass);

    function Login() {
      return Login.__super__.constructor.apply(this, arguments);
    }

    BACKGROUND = 'https://sbx.scribd.com/images/login/login.jpg?1447116782';

    Login.prototype.initialize = function() {
      $(".login_forms").each(function() {
        if (!$(this).closest(".signup_flow_lb").length) {
          return $(this).backstretch(BACKGROUND);
        }
      });
      return $(".user_menu").hide();
    };

    return Login;

  })(Backbone.View);

}).call(this);




/************************************************************************
 * :class_inlines, 'spec_javascripts/js_spec', ... (last modified: (none))
 ************************************************************************/

