/************************************************************************
 * 'publisher_reports.js'
 *
 * This file is GENERATED by the AssetAggregator; do not edit it.
 * Last modified: 2016-07-14 01:06:05 +0000
 * Generated at: 2016-07-14 16:15:13 +0000
 ************************************************************************/


/************************************************************************
 * :asset_packager_compatibility, 'config/asset_packages.yml' (last modified: 2016-07-14 01:06:05 +0000)
 ************************************************************************/





/************************************************************************
 * :asset_packager_compatibility, 'config/asset_packages.yml' (last modified: 2016-07-14 01:06:05 +0000)
 ************************************************************************/





/************************************************************************
 * :files, 'public/javascripts/shared', ... (last modified: (none))
 ************************************************************************/





/************************************************************************
 * :files, 'app/views', ... (last modified: (none))
 ************************************************************************/





/************************************************************************
 * :files, 'app/views', ... (last modified: (none))
 ************************************************************************/





/************************************************************************
 * :class_inlines, 'app/views', ... (last modified: 2015-11-10 00:53:08 +0000)
 ************************************************************************/

/* ----------------------------------------------------------------------
   - app/views/publisher_reports/stats.coffee (last modified: 2015-11-10 00:53:08 +0000)
   ---------------------------------------------------------------------- */
(function() {
  var reverse;

  reverse = function(fn) {
    return function(row1, row2) {
      return !fn(row1, row2);
    };
  };

  Scribd.PublisherReportsStats = (function() {
    function PublisherReportsStats(container, sort, sort_dir) {
      var sort_func, table;
      this.container = $(container);
      if (sort === "views") {
        sort_func = function(row1, row2) {
          return parseInt($(row1.cells[1]).html()) < parseInt($(row2.cells[1]).html());
        };
        if (sort_dir === "desc") {
          sort_func = reverse(sort_func);
        }
        this.sort_table(sort_func);
      }
      table = this.container.find(".stats");
      table.removeClass("hidden");
    }

    PublisherReportsStats.prototype.sort_table = function(sort_func) {
      var rows, rows_to_sort, sorted_rows, table;
      table = this.container.find(".stats");
      rows = table.find("tr");
      rows_to_sort = rows.slice(1);
      sorted_rows = rows_to_sort.sort(function(row1, row2) {
        if (sort_func(row1, row2) === true) {
          return -1;
        } else {
          return 1;
        }
      });
      return table.append(sorted_rows);
    };

    return PublisherReportsStats;

  })();

}).call(this);




/************************************************************************
 * :class_inlines, 'spec_javascripts/js_spec', ... (last modified: (none))
 ************************************************************************/

