/************************************************************************
 * 'base.js'
 *
 * This file is GENERATED by the AssetAggregator; do not edit it.
 * Last modified: 2016-07-14 01:06:05 +0000
 * Generated at: 2016-07-14 16:15:11 +0000
 ************************************************************************/


/************************************************************************
 * :asset_packager_compatibility, 'config/asset_packages.yml' (last modified: 2016-07-14 01:06:05 +0000)
 ************************************************************************/





/************************************************************************
 * :asset_packager_compatibility, 'config/asset_packages.yml' (last modified: 2016-07-14 01:06:05 +0000)
 ************************************************************************/





/************************************************************************
 * :files, 'public/javascripts/shared', ... (last modified: (none))
 ************************************************************************/





/************************************************************************
 * :files, 'app/views', ... (last modified: (none))
 ************************************************************************/





/************************************************************************
 * :files, 'app/views', ... (last modified: (none))
 ************************************************************************/





/************************************************************************
 * :class_inlines, 'app/views', ... (last modified: 2016-07-08 22:43:32 +0000)
 ************************************************************************/

/* ----------------------------------------------------------------------
   - app/views/shared/buttons/payments.coffee (last modified: 2016-07-08 22:43:32 +0000)
   ---------------------------------------------------------------------- */
(function() {
  var bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; };

  Scribd.PaymentsButton = (function() {
    function PaymentsButton(container, form_id, disable_on_click) {
      this.check_and_set_form_submitted = bind(this.check_and_set_form_submitted, this);
      this.disable_button = bind(this.disable_button, this);
      this.container = $(container);
      this.form = $("#" + form_id);
      this.button = this.form.find('.continue_button');
      this.spinner = this.form.find('.spinner');
      this.disable_on_click = disable_on_click;
      this.container.dispatch("click", {
        continue_button: (function(_this) {
          return function(btn, e) {
            if (!_this.button.attr("disabled")) {
              _this.disable_button();
              return _this.form.submit();
            }
          };
        })(this)
      });
      if (this.disable_on_click) {
        this.form.submit((function(_this) {
          return function(e) {
            _this.disable_button();
            return _this.check_and_set_form_submitted();
          };
        })(this));
      }
    }

    PaymentsButton.prototype.disable_button = function() {
      if (this.disable_on_click) {
        this.button.prop("disabled", true);
        this.button.addClass("disabled");
        return this.spinner.addClass('active');
      }
    };

    PaymentsButton.prototype.check_and_set_form_submitted = function() {
      if (this.form_submitted) {
        return false;
      }
      return this.form_submitted = true;
    };

    return PaymentsButton;

  })();

}).call(this);




/************************************************************************
 * :class_inlines, 'spec_javascripts/js_spec', ... (last modified: (none))
 ************************************************************************/

