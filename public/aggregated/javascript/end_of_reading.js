/************************************************************************
 * 'end_of_reading.js'
 *
 * This file is GENERATED by the AssetAggregator; do not edit it.
 * Last modified: 2016-07-14 01:06:05 +0000
 * Generated at: 2016-07-14 16:15:12 +0000
 ************************************************************************/


/************************************************************************
 * :asset_packager_compatibility, 'config/asset_packages.yml' (last modified: 2016-07-14 01:06:05 +0000)
 ************************************************************************/





/************************************************************************
 * :asset_packager_compatibility, 'config/asset_packages.yml' (last modified: 2016-07-14 01:06:05 +0000)
 ************************************************************************/





/************************************************************************
 * :files, 'public/javascripts/shared', ... (last modified: (none))
 ************************************************************************/





/************************************************************************
 * :files, 'app/views', ... (last modified: (none))
 ************************************************************************/





/************************************************************************
 * :files, 'app/views', ... (last modified: (none))
 ************************************************************************/





/************************************************************************
 * :class_inlines, 'app/views', ... (last modified: 2016-01-21 00:14:18 +0000)
 ************************************************************************/

/* ----------------------------------------------------------------------
   - app/views/end_of_reading/show.coffee (last modified: 2016-01-21 00:14:18 +0000)
   ---------------------------------------------------------------------- */
(function() {
  var bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; };

  Scribd.EndOfReading = (function() {
    function EndOfReading(container, opts) {
      if (opts == null) {
        opts = {};
      }
      this.setup_events = bind(this.setup_events, this);
      this.container = $(container);
      this.opts = opts;
      this.setup_events();
    }

    EndOfReading.prototype.setup_events = function() {
      this.container.dispatch("click", {
        audiobook_link: function(btn) {
          var height, name, opts, ref, ref1, ref2, width;
          width = (ref = Scribd.Audiobooks) != null ? ref.listen_window_width : void 0;
          height = (ref1 = Scribd.Audiobooks) != null ? ref1.listen_window_height : void 0;
          name = (ref2 = Scribd.Audiobooks) != null ? ref2.listen_window_name : void 0;
          opts = "width=" + width + ",height=" + height + ",location=0";
          return window.open(btn.attr("href"), name, opts);
        }
      });
      this.container.on("scribd:review_added", (function(_this) {
        return function(e, res) {
          var list;
          list = _this.container.find(".review_list");
          if (list.length) {
            list.remove();
          }
          return $(res.preview_1).insertAfter(_this.container.find(".review_form")).show();
        };
      })(this));
      this.container.on("scribd:review_deleted", (function(_this) {
        return function() {
          return _this.container.find(".review_list").remove();
        };
      })(this));
      this.container.on("scribd:review_edit", (function(_this) {
        return function() {
          return _this.container.find(".review_list").hide();
        };
      })(this));
      return this.container.on("scribd:review_cancel", (function(_this) {
        return function() {
          return _this.container.find(".review_list").show();
        };
      })(this));
    };

    return EndOfReading;

  })();

}).call(this);




/************************************************************************
 * :class_inlines, 'spec_javascripts/js_spec', ... (last modified: (none))
 ************************************************************************/

